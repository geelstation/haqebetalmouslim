* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  /* Spacing */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  
  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  
  /* Fonts */
  --font-family: 'Segoe UI', 'Tahoma', 'Arial', sans-serif;
  --font-arabic: 'Traditional Arabic', 'Arabic Typesetting', 'Tahoma', sans-serif;
}

/* ثيم بني جميل */
[data-theme="brown"] {
  --bg-primary: #2e1a0a;
  --bg-secondary: #3e2515;
  --bg-tertiary: #4e3020;
  --bg-hover: #5e3a2a;
  --bg-active: #6e4535;
  
  --text-primary: #ffffff;
  --text-secondary: #e0e0e0;
  --text-tertiary: #c0c0c0;
  
  --border-color: #5e3a2a;
  --accent-color: #d4a574;
  --accent-hover: #e4b584;
  
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --error-color: #f44336;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #2e1a0a 0%, #3e2515 50%, #4e3020 100%);
  --gradient-bg-2: linear-gradient(145deg, #2e1a0a 0%, #3e2515 30%, #4e3020 70%, #2e1a0a 100%);
  --accent-glow: rgba(212, 165, 116, 0.4);
  --accent-shadow: rgba(212, 165, 116, 0.2);
  --accent-rgb: 212, 165, 116;
  --cassette-body: linear-gradient(135deg, #4e3020 0%, #3e2515 50%, #452818 100%);
}

/* ثيم أخضر جميل */
[data-theme="green"] {
  --bg-primary: #0a1a0a;
  --bg-secondary: #152a15;
  --bg-tertiary: #203a20;
  --bg-hover: #2a4a2a;
  --bg-active: #355a35;
  
  --text-primary: #ffffff;
  --text-secondary: #e0e0e0;
  --text-tertiary: #c0c0c0;
  
  --border-color: #254a25;
  --accent-color: #66bb6a;
  --accent-hover: #81c784;
  
  --success-color: #00ff00;
  --warning-color: #ff9800;
  --error-color: #f44336;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #0a1a0a 0%, #152a15 50%, #203a20 100%);
  --gradient-bg-2: linear-gradient(145deg, #0a1a0a 0%, #152a15 30%, #203a20 70%, #0a1a0a 100%);
  --accent-glow: rgba(102, 187, 106, 0.4);
  --accent-shadow: rgba(102, 187, 106, 0.2);
  --accent-rgb: 102, 187, 106;
  --cassette-body: linear-gradient(135deg, #1a3a1a 0%, #152a15 50%, #183518 100%);
}

/* ثيم أسود جميل */
[data-theme="black"] {
  --bg-primary: #000000;
  --bg-secondary: #0f0f0f;
  --bg-tertiary: #1a1a1a;
  --bg-hover: #252525;
  --bg-active: #303030;
  
  --text-primary: #ffffff;
  --text-secondary: #e0e0e0;
  --text-tertiary: #c0c0c0;
  
  --border-color: #333333;
  --accent-color: #00d4ff;
  --accent-hover: #33ddff;
  
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --error-color: #f44336;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #000000 0%, #0f0f0f 50%, #1a1a1a 100%);
  --gradient-bg-2: linear-gradient(145deg, #000000 0%, #0f0f0f 30%, #1a1a1a 70%, #000000 100%);
  --accent-glow: rgba(0, 212, 255, 0.4);
  --accent-shadow: rgba(0, 212, 255, 0.2);
  --accent-rgb: 0, 212, 255;
  --cassette-body: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 50%, #141414 100%);
}

/* ثيم زهري جميل */
[data-theme="pink"] {
  --bg-primary: #1a0a14;
  --bg-secondary: #2a1525;
  --bg-tertiary: #3a2035;
  --bg-hover: #4a2a45;
  --bg-active: #5a3555;
  
  --text-primary: #ffffff;
  --text-secondary: #ffe0f0;
  --text-tertiary: #ffc0e0;
  
  --border-color: #5a3555;
  --accent-color: #ff69b4;
  --accent-hover: #ff85c8;
  
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --error-color: #f44336;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #1a0a14 0%, #2a1525 50%, #3a2035 100%);
  --gradient-bg-2: linear-gradient(145deg, #1a0a14 0%, #2a1525 30%, #3a2035 70%, #1a0a14 100%);
  --accent-glow: rgba(255, 105, 180, 0.4);
  --accent-shadow: rgba(255, 105, 180, 0.2);
  --accent-rgb: 255, 105, 180;
  --cassette-body: linear-gradient(135deg, #3a2035 0%, #2a1525 50%, #35182a 100%);
}

/* Dark Theme (Default) */
[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --bg-secondary: #252525;
  --bg-tertiary: #2f2f2f;
  --bg-hover: #3a3a3a;
  --bg-active: #404040;
  
  --text-primary: #e0e0e0;
  --text-secondary: #b0b0b0;
  --text-tertiary: #808080;
  
  --border-color: #404040;
  --accent-color: #6a0dad;
  --accent-hover: #8b1fb3;
  
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --error-color: #f44336;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #16213e 0%, #1a1a2e 50%, #0f1419 100%);
  --gradient-bg-2: linear-gradient(145deg, #0f1419 0%, #1a1a2e 30%, #16213e 70%, #0f1419 100%);
  --accent-glow: rgba(106, 13, 173, 0.5);
  --accent-shadow: rgba(106, 13, 173, 0.2);
  --cassette-body: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 50%, #242424 100%);
}

/* Light Theme */
[data-theme="light"] {
  --bg-primary: #f5f5f5;
  --bg-secondary: #ffffff;
  --bg-tertiary: #fafafa;
  --bg-hover: #eeeeee;
  --bg-active: #e0e0e0;
  
  --text-primary: #212121;
  --text-secondary: #666666;
  --text-tertiary: #999999;
  
  --border-color: #e0e0e0;
  --accent-color: #6a0dad;
  --accent-hover: #8b1fb3;
  
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --error-color: #f44336;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #ffffff 0%, #f5f5f5 50%, #eeeeee 100%);
  --gradient-bg-2: linear-gradient(145deg, #fafafa 0%, #ffffff 30%, #f5f5f5 70%, #eeeeee 100%);
  --accent-glow: rgba(106, 13, 173, 0.3);
  --accent-shadow: rgba(106, 13, 173, 0.1);
  --cassette-body: linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 50%, #eeeeee 100%);
}

/* Islamic Theme 1 - الأخضر الزمردي (المسجد النبوي) */
[data-theme="islamic1"] {
  --bg-primary: #1e2e1e;
  --bg-secondary: #283828;
  --bg-tertiary: #324232;
  --bg-hover: #3c4c3c;
  --bg-active: #465646;
  
  --text-primary: #e8e8d8;
  --text-secondary: #c8c0a8;
  --text-tertiary: #a8a090;
  
  --border-color: #3c5c3c;
  --accent-color: #b8983a;
  --accent-hover: #c8a844;
  
  --success-color: #5cb85c;
  --warning-color: #f0ad4e;
  --error-color: #d9534f;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #1e2e1e 0%, #283828 50%, #324232 100%);
  --gradient-bg-2: linear-gradient(145deg, #1e2e1e 0%, #283828 30%, #324232 70%, #1e2e1e 100%);
  --accent-glow: rgba(184, 152, 58, 0.25);
  --accent-shadow: rgba(184, 152, 58, 0.12);
  --cassette-body: linear-gradient(135deg, #344434 0%, #283828 50%, #2e3e2e 100%);
}

/* Islamic Theme 2 - الفيروزي (قبة الصخرة) */
[data-theme="islamic2"] {
  --bg-primary: #1e3434;
  --bg-secondary: #283e3e;
  --bg-tertiary: #324848;
  --bg-hover: #3c5252;
  --bg-active: #465c5c;
  
  --text-primary: #e0e8ee;
  --text-secondary: #c0d0d8;
  --text-tertiary: #a0b8c0;
  
  --border-color: #3c5c5c;
  --accent-color: #4a9890;
  --accent-hover: #5aa8a0;
  
  --success-color: #5cb85c;
  --warning-color: #f0ad4e;
  --error-color: #d9534f;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #1e3434 0%, #283e3e 50%, #324848 100%);
  --gradient-bg-2: linear-gradient(145deg, #1e3434 0%, #283e3e 30%, #324848 70%, #1e3434 100%);
  --accent-glow: rgba(74, 152, 144, 0.25);
  --accent-shadow: rgba(74, 152, 144, 0.12);
  --cassette-body: linear-gradient(135deg, #344444 0%, #283e3e 50%, #2e4242 100%);
}

/* Islamic Theme 3 - الأزرق الملكي (المخطوطات) */
[data-theme="islamic3"] {
  --bg-primary: #1e1e34;
  --bg-secondary: #28283e;
  --bg-tertiary: #323248;
  --bg-hover: #3c3c52;
  --bg-active: #46465c;
  
  --text-primary: #e8e8d8;
  --text-secondary: #c8c0a8;
  --text-tertiary: #a8a090;
  
  --border-color: #3c3c5c;
  --accent-color: #c8a850;
  --accent-hover: #d8b860;
  
  --success-color: #5cb85c;
  --warning-color: #f0ad4e;
  --error-color: #d9534f;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #1e1e34 0%, #28283e 50%, #323248 100%);
  --gradient-bg-2: linear-gradient(145deg, #1e1e34 0%, #28283e 30%, #323248 70%, #1e1e34 100%);
  --accent-glow: rgba(200, 168, 80, 0.25);
  --accent-shadow: rgba(200, 168, 80, 0.12);
  --cassette-body: linear-gradient(135deg, #343444 0%, #28283e 50%, #2e2e42 100%);
}

/* Islamic Theme 4 - البني الدافئ (الكعبة) */
[data-theme="islamic4"] {
  --bg-primary: #2e2418;
  --bg-secondary: #382e22;
  --bg-tertiary: #42382c;
  --bg-hover: #4c4236;
  --bg-active: #564c40;
  
  --text-primary: #e8e8d8;
  --text-secondary: #c8c0a8;
  --text-tertiary: #a8a090;
  
  --border-color: #4c4236;
  --accent-color: #a88850;
  --accent-hover: #b89860;
  
  --success-color: #5cb85c;
  --warning-color: #f0ad4e;
  --error-color: #d9534f;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #2e2418 0%, #382e22 50%, #42382c 100%);
  --gradient-bg-2: linear-gradient(145deg, #2e2418 0%, #382e22 30%, #42382c 70%, #2e2418 100%);
  --accent-glow: rgba(168, 136, 80, 0.25);
  --accent-shadow: rgba(168, 136, 80, 0.12);
  --cassette-body: linear-gradient(135deg, #3c3228 0%, #382e22 50%, #3a3024 100%);
}

/* Islamic Theme 5 - الأبيض الثلجي (المسجد الحرام) */
[data-theme="islamic5"] {
  --bg-primary: #fafaf5;
  --bg-secondary: #ffffff;
  --bg-tertiary: #f5f5f0;
  --bg-hover: #ebebeb;
  --bg-active: #e0e0db;
  
  --text-primary: #3a3028;
  --text-secondary: #5a4838;
  --text-tertiary: #7a6858;
  
  --border-color: #c8c0a8;
  --accent-color: #a88850;
  --accent-hover: #987848;
  
  --success-color: #5cb85c;
  --warning-color: #f0ad4e;
  --error-color: #d9534f;
  
  /* Gradients & Special */
  --gradient-bg-1: linear-gradient(145deg, #fafafa 0%, #f5f5f0 50%, #f0f0eb 100%);
  --gradient-bg-2: linear-gradient(145deg, #f5f5f0 0%, #fafafa 30%, #f0f0eb 70%, #f5f5f0 100%);
  --accent-glow: rgba(168, 136, 80, 0.2);
  --accent-shadow: rgba(168, 136, 80, 0.1);
  --cassette-body: linear-gradient(135deg, #e8e8e3 0%, #f0f0eb 50%, #ecece7 100%);
}

body {
  font-family: var(--font-family);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  overflow: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  direction: rtl;
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
}

#root {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* Scrollbar Styling */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--bg-hover);
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--bg-active);
}

/* Selection */
::selection {
  background-color: var(--accent-color);
  color: white;
}

/* Buttons */
button {
  cursor: pointer;
  border: none;
  background: none;
  font-family: inherit;
  outline: none;
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* Input */
input, textarea {
  font-family: inherit;
  border: none;
  outline: none;
}

/* Arabic Text */
.arabic-text {
  font-family: var(--font-arabic);
  line-height: 1.8;
  font-size: 18px;
}

/* Utility Classes */
.rtl {
  direction: rtl;
}

.ltr {
  direction: ltr;
}

.no-select {
  user-select: none;
  -webkit-user-select: none;
}

/* ================================
   Mobile Optimization
   ================================ */

/* تحسينات اللمس للموبايل */
* {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

button, a, input, select, textarea {
  -webkit-tap-highlight-color: rgba(0,0,0,0.1);
}

/* منع التكبير غير المرغوب عند التركيز على الحقول */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
textarea {
  font-size: 16px; /* منع تكبير iOS */
}

/* تحسين الأزرار للمس */
@media (hover: none) and (pointer: coarse) {
  button, a {
    min-height: 44px; /* الحد الأدنى للمس على iOS */
    min-width: 44px;
  }
}

/* تحسين الخطوط للشاشات الصغيرة */
@media (max-width: 768px) {
  :root {
    --spacing-xs: 3px;
    --spacing-sm: 6px;
    --spacing-md: 12px;
    --spacing-lg: 18px;
    --spacing-xl: 24px;
  }

  html {
    font-size: 14px; /* تصغير الخط الأساسي */
  }

  .arabic-text {
    font-size: 16px;
    line-height: 1.7;
  }
}

@media (max-width: 480px) {
  html {
    font-size: 13px;
  }

  .arabic-text {
    font-size: 15px;
  }
}

/* تحسين Scrolling للموبايل */
* {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* منع التمدد الزائد في Safari iOS */
body {
  position: fixed;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

#root {
  width: 100%;
  height: 100%;
  overflow: auto;
}

/* دعم Safe Area للأجهزة الحديثة (iPhone X+) */
@supports (padding: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* تحسين الأداء للأنيميشن */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* تحسين التباين للشاشات ذات التباين العالي */
@media (prefers-contrast: high) {
  :root {
    --border-color: #ffffff;
  }
}

/* وضع Dark Mode التلقائي (احتياطي) */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

